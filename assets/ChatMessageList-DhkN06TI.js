import{R as b,j as e}from"./motion-vendor-B3aZs4py.js";import{a9 as m,aa as s,a1 as h,p as w}from"./icons-vendor-KF9QD_6O.js";import"./react-vendor-DlBnNAMw.js";const f=({messages:a,isDarkMode:t,theme:l,renderMessage:o,handleSpeak:n,isLoading:d,loadingText:x,chatEndRef:i,setFullPreviewImage:c})=>e.jsxs("div",{className:`flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-4 ${t?"bg-black/20":"bg-[#F9F9F6]/50"}`,children:[a.map((r,u)=>e.jsxs("div",{className:`flex gap-3 ${r.role==="user"?"flex-row-reverse":""}`,children:[e.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0",children:[e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center shadow-sm border
                ${r.role==="user"?t?"bg-sky-800 text-white border-sky-700":"bg-[#5D737E] text-white border-[#4A606A]":t?"bg-neutral-800 text-sky-300 border-neutral-700":"bg-white text-[#5D737E] border-stone-200"}`,children:r.role==="user"?e.jsx(m,{className:"w-5 h-5"}):e.jsx(s,{className:"w-5 h-5"})}),r.role==="model"&&e.jsx("button",{onClick:()=>n(r.text),className:`p-1 rounded-full transition-all ${t?"text-sky-300 hover:bg-neutral-700":"text-[#5D737E] hover:bg-stone-200"}`,title:"朗讀訊息",children:e.jsx(h,{className:"w-3.5 h-3.5"})})]}),e.jsx("div",{className:"max-w-[75%] group relative transition-all duration-300",children:e.jsxs("div",{className:`p-3.5 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap break-words shadow-sm border
                ${r.role==="user"?t?"bg-sky-800 text-white border-sky-700 rounded-tr-none":"bg-[#5D737E] text-white rounded-tr-none border-[#4A606A]":t?"bg-neutral-800/90 backdrop-blur-sm text-neutral-200 border-neutral-700 rounded-tl-none":"bg-white/90 backdrop-blur-sm text-stone-700 border-stone-200 rounded-tl-none"}`,children:[r.image&&e.jsx("img",{src:r.image,alt:"Sent Image",onClick:()=>c(r.image),className:"mb-2 max-w-full h-auto rounded-lg border border-white/20 shadow-sm object-cover cursor-zoom-in active:scale-95 transition-transform"}),o(r.text)]})})]},u)),d&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center shadow-sm border ${t?"bg-neutral-800 border-neutral-700":"bg-white border-stone-200"}`,children:e.jsx(s,{className:`w-5 h-5 ${t?"text-sky-300":"text-[#5D737E]"}`})}),e.jsxs("div",{className:`p-3 rounded-2xl rounded-tl-none border shadow-sm flex items-center gap-2 ${t?"bg-neutral-800/60 border-neutral-700":"bg-white/80 border-stone-200"}`,children:[e.jsx(w,{className:`w-4 h-4 animate-spin ${t?"text-sky-300":"text-[#5D737E]"}`}),e.jsx("span",{className:`text-xs ${l.textSec}`,children:x||"正在翻閱您的行程表..."})]})]}),e.jsx("div",{ref:i})]}),v=b.memo(f);export{v as default};
